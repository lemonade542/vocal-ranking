(function(){"use strict";var t={5093:function(t,e,n){var a=n(6848),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container pt-5"},[e("h1",[t._v("Vocal Character & UTAU")]),e("h1",[t._v("热门曲排行-文字版")]),e("div",{staticStyle:{height:"50px"}}),e("Search"),e("div",{staticStyle:{height:"50px"}}),e("router-view")],1)},s=[],r=(n(8111),n(1701),function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAlert,expression:"showAlert"}],staticClass:"alert alert-danger alert-dismissible"},[e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"alert"},on:{click:function(e){t.showAlert}}}),t._v(" "+t._s(t.alertText)+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.indexLoading,expression:"indexLoading"}],staticClass:"spinner-border"}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.indexLoading,expression:"!indexLoading"}],staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.category=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:""}},[t._v("请选择类别")]),e("option",{attrs:{value:"weekly"}},[t._v("每周")]),e("option",{attrs:{value:"monthly"}},[t._v("每月")]),e("option",{attrs:{value:"annual"}},[t._v("每年")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:""===t.category,expression:"category===''"}],staticClass:"col-md-8"},[t._m(0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"weekly"===t.category,expression:"category==='weekly'"}],staticClass:"col-md-8"},[e("select",{ref:"selectWeekly",staticClass:"form-select"},t._l(t.indexWeeklyList,function(n,a){return e("option",{key:a,domProps:{value:n.ranking_file_name}},[t._v(" "+t._s(n.ranking_name)+"("+t._s(n.ranking_start_date)+"-"+t._s(n.ranking_end_date)+") ")])}),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"monthly"===t.category,expression:"category==='monthly'"}],staticClass:"col-md-8"},[e("select",{ref:"selectMonthly",staticClass:"form-select"},t._l(t.indexMonthlyList,function(n,a){return e("option",{key:a,domProps:{value:n.ranking_file_name}},[t._v(" "+t._s(n.ranking_name)+"("+t._s(n.ranking_start_date)+"-"+t._s(n.ranking_end_date)+") ")])}),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"annual"===t.category,expression:"category==='annual'"}],staticClass:"col-md-8"},[e("select",{ref:"selectAnnual",staticClass:"form-select"},[t._l(t.indexAnnualList,function(n,a){return e("option",{directives:[{name:"show",rawName:"v-show",value:0!==t.indexAnnualList.length,expression:"indexAnnualList.length!==0"}],key:a,domProps:{value:n.ranking_file_name}},[t._v(" "+t._s(n.ranking_name)+"("+t._s(n.ranking_start_date)+"-"+t._s(n.ranking_end_date)+") ")])}),e("option",{directives:[{name:"show",rawName:"v-show",value:0===t.indexAnnualList.length,expression:"indexAnnualList.length===0"}],attrs:{value:""}},[t._v("暂无数据")])],2)])]),e("div",{staticClass:"row",staticStyle:{"margin-top":"1em"}},[e("div",{staticClass:"col"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.searchRanking}},[t._v("检索")]),e("button",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"1em"},attrs:{type:"button"},on:{click:t.goHome}},[t._v("回到首页")])])])])}),o=[function(){var t=this,e=t._self._c;return e("select",{staticClass:"form-select"},[e("option",[t._v("请先选择类别")])])}],l=n(3518),c={name:"Search",data(){return{category:"",showAlert:!1}},computed:{...(0,l.aH)(["indexLoading","indexMonthlyList","indexWeeklyList","indexAnnualList","alertText"])},watch:{alertText(){""!==this.alertText&&(this.showAlert=!0)}},methods:{searchRanking(){let t="";"weekly"===this.category&&(t=this.$refs.selectWeekly.value),"monthly"===this.category&&(t=this.$refs.selectMonthly.value),"annual"===this.category&&(t=this.$refs.selectAnnual.value),""===t?alert("请先选择类别"):(this.$store.dispatch("get_ranking",t),this.$router.replace({name:"ranking",params:{ranking_file_name:t}}))},goHome(){this.$router.replace({name:"home"})}},mounted(){this.$store.dispatch("search_index")}},_=c,v=n(1656),d=(0,v.A)(_,r,o,!1,null,"0785ae17",null),u=d.exports,g={name:"App",components:{Search:u}},m=g,h=(0,v.A)(m,i,s,!1,null,null,null),p=h.exports,f=n(6178),y=(n(4114),function(){var t=this;t._self._c;return t._m(0)}),A=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"row"},[e("h3",[t._v("统计规则")]),e("p",[t._v("1、排行收录投稿于Niconico上“音楽・サウンド”分类下带有“VOCALOID”标签的曲目；")]),e("p",[t._v("2、排行收录的声库包括VOCALOID、CeVIO、SynthesizerV、UTAU等；")]),e("p",[t._v("3、排行只收录原创曲目，二次加工、重调、翻唱的作品不予收录，违反公序良俗的曲目不予收录；")]),e("p",[t._v("4、排行使用与Niconico《周刊VOCAL Character & UTAU排行榜》中相同的计算公式进行分数计算（详情见后文）；")]),e("p",[t._v("5、排行使用Niconico快照功能获取数据，保证数据的时效性；")]),e("p",[t._v("6、排行中使用的音乐、视频、图像等，其著作权属于原著作权人，排行仅以介绍为目的的引用。")])]),e("div",{staticClass:"row"},[e("h3",[t._v("计算公式")]),e("p",[t._v("目前Niconico《周刊VOCAL Character & UTAU排行榜》中计算公式如下：")]),e("p",[t._v("总得分 = 播放得分+评论得分+收藏得分+点赞得分，其中：")]),e("p",[t._v("评论得分=评论数×补正值A，其中补正值A =(播放数+收藏数)÷(播放数+评论数+收藏数)，保留两位小数。")]),e("p",[t._v("收藏得分=收藏数×补正值B，点赞得分=点赞数×补正值B，其中补正值B = (点赞数÷再生数×100)×2，保留两位小数。")]),e("p",[t._v("播放得分=播放数×补正值X，其中补正值X = 补正值B÷3，最高不能超过1.00，保留两位小数。")]),e("p",[t._v("收藏得分和点赞得分最大限制值为播放数×4。")])])])}],k={name:"Home"},w=k,x=(0,v.A)(w,y,A,!1,null,"b9d3ae26",null),b=x.exports,N=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.rankingLoading,expression:"rankingLoading"}],staticClass:"spinner-border"}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.rankingLoading,expression:"!rankingLoading"}]},[e("h3",[t._v(t._s(t.rankingHeader.ranking_name)+"热门曲排行")]),e("div",{staticStyle:{"margin-top":"0.5em","margin-bottom":"0.5em"}},[t._v("数据统计时间："+t._s(t.rankingHeader.ranking_start_date)+" 07:00 - "+t._s(t.rankingHeader.ranking_end_date)+" 07:00 (GMT+9)")]),e("br"),e("a",{staticClass:"btn btn-primary",attrs:{href:`https://www.bilibili.com/video/${t.rankingHeader.ranking_video_bili_id}`,target:"_blank"}},[t._v("观看本期视频")]),e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.rankingData,function(n){return e("tr",{key:n.ranking},[e("td",[e("strong",{staticStyle:{"font-size":"20px"}},[t._v("#"+t._s(n.ranking)+" ")]),0===n.last_score||-1!==n.last_score&&n.ranking-n.last_ranking<0||-1!==n.last_score&&n.ranking-n.last_ranking>0?e("span",[t._v("▲")]):e("span"),-1===n.last_score?e("span",[t._v("NEW!!")]):0===n.last_score?e("span",[t._v("--")]):e("span",[t._v(t._s(Math.abs(n.ranking-n.last_ranking)))]),e("br"),e("span",[e("strong",{staticStyle:{"font-size":"20px"}},[t._v(t._s(n.song_title))])]),e("br"),t._v(" "+t._s(n.song_artist)+" / "+t._s(n.song_vocalbank)),e("br"),t._v(" "+t._s(n.start_time)),e("br"),t._v(" "+t._s(n.content_id)),e("br")]),e("td",[e("span",[t._v("播放："+t._s(n.weight_x.toFixed(2)))]),t._v("×"),e("span",[e("strong",[t._v(t._s(n.view_delta.toLocaleString()))])]),e("br"),e("span",[t._v("评论："+t._s(n.weight_a.toFixed(2)))]),t._v("×"),e("span",[e("strong",[t._v(t._s(n.comment_delta.toLocaleString()))])]),e("br"),e("span",[t._v("收藏："+t._s(n.weight_b.toFixed(2)))]),t._v("×"),e("span",[e("strong",[t._v(t._s(n.mylist_delta.toLocaleString()))])]),e("br"),e("span",[t._v("点赞："+t._s(n.weight_b.toFixed(2)))]),t._v("×"),e("span",[e("strong",[t._v(t._s(n.like_delta.toLocaleString()))])]),e("br"),e("span",[t._v("总分："),e("strong",[t._v(t._s(n.total_score.toLocaleString()))]),t._v("PTS ")]),0===n.last_score||-1!==n.last_score&&n.total_score-n.last_score>0?e("span",[t._v("▲")]):-1!==n.last_score&&n.total_score-n.last_score<0?e("span",[t._v("▼")]):e("span"),-1===n.last_score?e("span",[t._v("NEW!!")]):0===n.last_score?e("span",[t._v("--%")]):e("span",[t._v(t._s(Math.abs(100*(n.total_score/n.last_score-1)).toFixed(2)+"%"))])])])}),0)])])])},L=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"col-9"},[t._v("歌曲")]),e("th",{staticClass:"col-3"},[t._v("数据")])])])}],C={name:"Ranking",computed:{...(0,l.aH)(["rankingLoading","rankingHeader","rankingData"])}},E=C,T=(0,v.A)(E,N,L,!1,null,"66fa276a",null),O=T.exports;a.Ay.use(f.Ay);let G=f.Ay.prototype.push,S=f.Ay.prototype.replace;f.Ay.prototype.push=function(t,e,n){e&&n?G.call(this,t,e,n):G.call(this,t,()=>{},()=>{})},f.Ay.prototype.replace=function(t,e,n){e&&n?S.call(this,t,e,n):S.call(this,t,()=>{},()=>{})};const D=new f.Ay({mode:"history",routes:[{path:"/",redirect:"/home"},{name:"home",path:"/home",component:b},{name:"ranking",path:"/ranking/:ranking_file_name",component:O}]});var H=D,I=n(4373);a.Ay.use(l.Ay);const R={indexLoading:!1,indexWeeklyList:[],indexMonthlyList:[],indexAnnualList:[],alertText:"",rankingLoading:!1,rankingHeader:{},rankingData:[]},W={async search_index(t){t.commit("CHANGE_INDEX_LOADING"),await I.A.get("https://lemonade542.github.io/vocal-ranking/ranking/weekly/index.json").then(e=>{t.commit("GET_WEEKLY_INDEX",e.data.index.reverse())},e=>{t.commit("SHOW_ALERT",e.message)}),await I.A.get("https://lemonade542.github.io/vocal-ranking/ranking/monthly/index.json").then(e=>{t.commit("GET_MONTHLY_INDEX",e.data.index.reverse())},e=>{t.commit("SHOW_ALERT",e.message)}),await I.A.get("https://lemonade542.github.io/vocal-ranking/ranking/annual/index.json").then(e=>{t.commit("GET_ANNUAL_INDEX",e.data.index.reverse())},e=>{t.commit("SHOW_ALERT",e.message)}),await t.commit("CHANGE_INDEX_LOADING")},get_ranking(t,e){t.commit("CLEAR_RANKING_DATA"),t.commit("CHANGE_RANKING_LOADING");const n=e.split("-")[0],a=`https://lemonade542.github.io/vocal-ranking/ranking/${n}/${e}.json`;I.A.get(a).then(e=>{t.commit("GET_RANKING_DATA",e.data),t.commit("CHANGE_RANKING_LOADING")},e=>{t.commit("SHOW_ALERT",e.message),t.commit("CHANGE_RANKING_LOADING")})}},M={CHANGE_INDEX_LOADING(t){t.indexLoading=!t.indexLoading},SHOW_ALERT(t,e){t.alertText=e},GET_WEEKLY_INDEX(t,e){t.indexWeeklyList=e},GET_MONTHLY_INDEX(t,e){t.indexMonthlyList=e},GET_ANNUAL_INDEX(t,e){t.indexAnnualList=e},CHANGE_RANKING_LOADING(t){t.rankingLoading=!t.rankingLoading},CLEAR_RANKING_DATA(t){t.rankingHeader={},t.rankingData=[]},GET_RANKING_DATA(t,e){t.rankingHeader=e.header,t.rankingData=e.data}},j=new l.Ay.Store({state:R,actions:W,mutations:M});var X=j;a.Ay.config.productionTip=!1,a.Ay.use(f.Ay),new a.Ay({router:H,store:X,render:t=>t(p)}).$mount("#app")}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,a,i,s){if(!a){var r=1/0;for(_=0;_<t.length;_++){a=t[_][0],i=t[_][1],s=t[_][2];for(var o=!0,l=0;l<a.length;l++)(!1&s||r>=s)&&Object.keys(n.O).every(function(t){return n.O[t](a[l])})?a.splice(l--,1):(o=!1,s<r&&(r=s));if(o){t.splice(_--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var _=t.length;_>0&&t[_-1][2]>s;_--)t[_]=t[_-1];t[_]=[a,i,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={57:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,s,r=a[0],o=a[1],l=a[2],c=0;if(r.some(function(e){return 0!==t[e]})){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)var _=l(n)}for(e&&e(a);c<r.length;c++)s=r[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(_)},a=self["webpackChunkvocal_meta"]=self["webpackChunkvocal_meta"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],function(){return n(5093)});a=n.O(a)})();
//# sourceMappingURL=index.b4b156ec.js.map