(function(){"use strict";var t={8725:function(t,a,e){var s=e(6848),n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container pt-5"},[a("h1",[t._v("Vocal Character & UTAU")]),a("h1",[t._v("热门曲排行-文字版")]),a("div",{staticStyle:{height:"50px"}}),a("Search"),a("div",{staticStyle:{height:"50px"}}),a("router-view")],1)},i=[],r=(e(8111),e(1701),function(){var t=this,a=t._self._c;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showAlert,expression:"showAlert"}],staticClass:"alert alert-danger alert-dismissible"},[a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"alert"},on:{click:function(a){t.showAlert}}}),t._v(" "+t._s(t.alertText)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.indexLoading,expression:"indexLoading"}],staticClass:"spinner-border"}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.indexLoading,expression:"!indexLoading"}],staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.category=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:""}},[t._v("请选择类别")]),a("option",{attrs:{value:"weekly"}},[t._v("每周")]),a("option",{attrs:{value:"monthly"}},[t._v("每月")]),a("option",{attrs:{value:"annual"}},[t._v("每年")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:""===t.category,expression:"category===''"}],staticClass:"col-md-8"},[t._m(0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"weekly"===t.category,expression:"category==='weekly'"}],staticClass:"col-md-8"},[a("select",{ref:"selectWeekly",staticClass:"form-select"},t._l(t.indexWeeklyList,function(e,s){return a("option",{key:s,domProps:{value:e.ranking_file_name}},[t._v(" "+t._s(e.ranking_name)+"("+t._s(e.ranking_start_date)+"-"+t._s(e.ranking_end_date)+") ")])}),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"monthly"===t.category,expression:"category==='monthly'"}],staticClass:"col-md-8"},[a("select",{ref:"selectMonthly",staticClass:"form-select"},t._l(t.indexMonthlyList,function(e,s){return a("option",{key:s,domProps:{value:e.ranking_file_name}},[t._v(" "+t._s(e.ranking_name)+"("+t._s(e.ranking_start_date)+"-"+t._s(e.ranking_end_date)+") ")])}),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"annual"===t.category,expression:"category==='annual'"}],staticClass:"col-md-8"},[a("select",{ref:"selectAnnual",staticClass:"form-select"},[t._l(t.indexAnnualList,function(e,s){return a("option",{directives:[{name:"show",rawName:"v-show",value:0!==t.indexAnnualList.length,expression:"indexAnnualList.length!==0"}],key:s,domProps:{value:e.ranking_file_name}},[t._v(" "+t._s(e.ranking_name)+"("+t._s(e.ranking_start_date)+"-"+t._s(e.ranking_end_date)+") ")])}),a("option",{directives:[{name:"show",rawName:"v-show",value:0===t.indexAnnualList.length,expression:"indexAnnualList.length===0"}],attrs:{value:""}},[t._v("暂无数据")])],2)])]),a("div",{staticClass:"row",staticStyle:{"margin-top":"1em"}},[a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.searchRanking}},[t._v("检索")]),a("button",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"1em"},attrs:{type:"button"},on:{click:t.goHome}},[t._v("回到首页")])])])])}),o=[function(){var t=this,a=t._self._c;return a("select",{staticClass:"form-select"},[a("option",[t._v("请先选择类别")])])}],l=e(3518),c={name:"Search",data(){return{category:"",showAlert:!1}},computed:{...(0,l.aH)(["indexLoading","indexMonthlyList","indexWeeklyList","indexAnnualList","alertText"])},watch:{alertText(){""!==this.alertText&&(this.showAlert=!0)}},methods:{searchRanking(){let t="";"weekly"===this.category&&(t=this.$refs.selectWeekly.value),"monthly"===this.category&&(t=this.$refs.selectMonthly.value),"annual"===this.category&&(t=this.$refs.selectAnnual.value),""===t?alert("请先选择类别"):(this.$store.dispatch("get_ranking",t),this.$router.replace({name:"ranking",params:{ranking_file_name:t}}))},goHome(){this.$router.replace({name:"home"})}},mounted(){this.$store.dispatch("search_index")}};var _=c,d=e(1656),v=(0,d.A)(_,r,o,!1,null,"693d8c14",null),g=v.exports,u={name:"App",components:{Search:g}},h=u,m=(0,d.A)(h,n,i,!1,null,null,null),p=m.exports,w=e(6178),k=(e(4114),function(){var t=this;t._self._c;return t._m(0)}),y=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"home"},[a("div",{staticClass:"row"},[a("h3",[t._v("统计规则")]),a("p",[t._v("1、排行收录投稿于Niconico上“音楽・サウンド”分类下带有“VOCALOID”标签的曲目；")]),a("p",[t._v("2、排行收录的声库包括VOCALOID、CeVIO、SynthesizerV、UTAU等；")]),a("p",[t._v("3、排行只收录原创曲目，二次加工、重调、翻唱的作品不予收录，违反公序良俗的曲目不予收录；")]),a("p",[t._v("4、排行使用与Niconico《周刊VOCAL Character & UTAU排行榜》中相同的计算公式进行分数计算（详情见后文）；")]),a("p",[t._v("5、排行使用Niconico快照功能获取数据，保证数据的时效性；")]),a("p",[t._v("6、排行中使用的音乐、视频、图像等，其著作权属于原著作权人，排行仅以介绍为目的的引用。")])]),a("div",{staticClass:"row"},[a("h3",[t._v("计算公式")]),a("p",[t._v("目前Niconico《周刊VOCAL Character & UTAU排行榜》中计算公式如下：")]),a("p",[t._v("总得分 = 播放得分+评论得分+收藏得分+点赞得分，其中：")]),a("p",[t._v("评论得分=评论数×补正值A，其中补正值A =(播放数+收藏数)÷(播放数+评论数+收藏数)，保留两位小数。")]),a("p",[t._v("收藏得分=收藏数×补正值B，点赞得分=点赞数×补正值B，其中补正值B = (点赞数÷再生数×100)×2，保留两位小数。")]),a("p",[t._v("播放得分=播放数×补正值X，其中补正值X = 补正值B÷3，最高不能超过1.00，保留两位小数。")]),a("p",[t._v("收藏得分和点赞得分最大限制值为播放数×4。")])])])}],f={name:"Home"},b=f,A=(0,d.A)(b,k,y,!1,null,"b9d3ae26",null),C=A.exports,x=function(){var t=this,a=t._self._c;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.rankingLoading,expression:"rankingLoading"}],staticClass:"spinner-border"}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.rankingLoading,expression:"!rankingLoading"}]},[a("h3",[t._v(t._s(t.rankingHeader.ranking_name)+"热门曲排行")]),a("div",{staticStyle:{"margin-top":"0.5em","margin-bottom":"0.5em"}},[t._v("数据统计时间："+t._s(t.rankingHeader.ranking_start_date)+" 07:00 - "+t._s(t.rankingHeader.ranking_end_date)+" 07:00 (GMT+9)")]),a("br"),a("a",{staticClass:"btn btn-primary",attrs:{href:`https://www.bilibili.com/video/${t.rankingHeader.ranking_video_bili_id}`,target:"_blank"}},[t._v("观看本期视频")]),t._l(t.rankingData,function(t){return a("RankingData",{key:t.ranking,attrs:{data:t}})})],2)])},N=[],L=function(){var t=this,a=t._self._c;return a("div",{staticClass:"box"},[a("div",{staticClass:"song-info"},[a("strong",{staticStyle:{"font-size":"20px"}},[t._v("#"+t._s(t.data.ranking)+" ")]),0===t.data.last_score||-1!==t.data.last_score&&t.data.ranking-t.data.last_ranking<0?a("span",{staticStyle:{color:"red"}},[t._v("▲")]):-1!==t.data.last_score&&t.data.ranking-t.data.last_ranking>0?a("span",{staticStyle:{color:"darkgreen"}},[t._v("▼")]):a("span"),-1===t.data.last_score?a("span",{staticStyle:{color:"red"}},[t._v("NEW!!")]):0===t.data.last_score?a("span",{staticStyle:{color:"red"}},[t._v("--")]):t.data.ranking-t.data.last_ranking<0?a("span",{staticStyle:{color:"red"}},[t._v(t._s(Math.abs(t.data.ranking-t.data.last_ranking)))]):t.data.ranking-t.data.last_ranking>0?a("span",{staticStyle:{color:"darkgreen"}},[t._v(t._s(Math.abs(t.data.ranking-t.data.last_ranking)))]):a("span",[t._v(t._s(Math.abs(t.data.ranking-t.data.last_ranking)))]),a("br"),a("div",{staticClass:"song-title-div"},[a("span",{staticClass:"song-title"},[a("strong",{staticStyle:{"font-size":"1.5em"}},[t._v(t._s(t.data.song_title))]),a("small",{directives:[{name:"show",rawName:"v-show",value:""!==t.data.song_title_zh,expression:"data.song_title_zh!==''"}],staticClass:"song-title-zh"},[t._v("("+t._s(t.data.song_title_zh)+")")])])]),t._v(" "+t._s(t.data.song_artist)+" / "+t._s(t.data.song_vocalbank)),a("br"),t._v(" "+t._s(t.data.start_time)+" "+t._s(t.data.content_id)),a("br"),a("div",{staticClass:"urls"},[a("a",{staticClass:"btn btn-niconico",attrs:{href:`https://www.nicovideo.jp/watch/${t.data.content_id}`,target:"_blank"}},[t._v("Niconico")]),a("a",{directives:[{name:"show",rawName:"v-show",value:""!==t.data.song_bili_id,expression:"data.song_bili_id!==''"}],staticClass:"btn btn-bilibili",attrs:{href:`https://www.bilibili.com/video/${t.data.song_bili_id}`,target:"_blank"}},[t._v("Bilibili本家")]),a("a",{directives:[{name:"show",rawName:"v-show",value:""===t.data.song_bili_id&&""!==t.data.song_bili_reprint_id,expression:"data.song_bili_id===''&&data.song_bili_reprint_id!==''"}],staticClass:"btn btn-bilibili",attrs:{href:`https://www.bilibili.com/video/${t.data.song_bili_reprint_id}`,target:"_blank"}},[t._v("Bilibili搬运")]),a("a",{directives:[{name:"show",rawName:"v-show",value:""!==t.data.song_ytb_id,expression:"data.song_ytb_id!==''"}],staticClass:"btn btn-youtube",attrs:{href:`https://www.youtube.com/watch?v=${t.data.song_ytb_id}`,target:"_blank"}},[t._v("Youtube")])])]),a("div",{staticClass:"song-data"},[a("div",{staticClass:"row row-song-data"},[a("div",{staticClass:"col-sm-9"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 col-6"},[a("span",{staticClass:"weight"},[a("strong",[t._v("播放：")]),t._v(t._s(t.data.weight_x.toFixed(2))+"×")]),a("span",{staticClass:"score"},[t._v(t._s(t.data.view_delta.toLocaleString()))])]),a("div",{staticClass:"col-sm-3 col-6"},[a("span",{staticClass:"weight"},[a("strong",[t._v("评论：")]),t._v(t._s(t.data.weight_a.toFixed(2))+"×")]),a("span",{staticClass:"score"},[t._v(t._s(t.data.comment_delta.toLocaleString()))])]),a("div",{staticClass:"col-sm-3 col-6"},[a("span",{staticClass:"weight"},[a("strong",[t._v("收藏：")]),t._v(t._s(t.data.weight_b.toFixed(2))+"×")]),a("span",{staticClass:"score"},[t._v(t._s(t.data.mylist_delta.toLocaleString()))])]),a("div",{staticClass:"col-sm-3 col-6"},[a("span",{staticClass:"weight"},[a("strong",[t._v("点赞：")]),t._v(t._s(t.data.weight_b.toFixed(2))+"×")]),a("span",{staticClass:"score"},[t._v(t._s(t.data.like_delta.toLocaleString()))])])])]),a("div",{staticClass:"col-sm-3"},[t._m(0),a("span",{staticClass:"score"},[t._v(t._s(t.data.total_score.toLocaleString()))]),a("span",{staticClass:"weight"},[t._v(" PTS ")]),0===t.data.last_score||-1!==t.data.last_score&&t.data.total_score-t.data.last_score>0?a("span",{staticClass:"weight",staticStyle:{color:"red"}},[t._v("▲")]):-1!==t.data.last_score&&t.data.total_score-t.data.last_score<0?a("span",{staticClass:"weight",staticStyle:{color:"darkgreen"}},[t._v("▼")]):a("span",{staticClass:"weight"}),-1===t.data.last_score?a("span",{staticClass:"weight",staticStyle:{color:"red"}},[t._v("NEW!!")]):0===t.data.last_score?a("span",{staticClass:"weight",staticStyle:{color:"red"}},[t._v("--%")]):t.data.total_score/t.data.last_score-1>0?a("span",{staticClass:"weight",staticStyle:{color:"red"}},[t._v(t._s(Math.abs(100*(t.data.total_score/t.data.last_score-1)).toFixed(2)+"%"))]):a("span",{staticClass:"weight",staticStyle:{color:"darkgreen"}},[t._v(t._s(Math.abs(100*(t.data.total_score/t.data.last_score-1)).toFixed(2)+"%"))])])])])])},S=[function(){var t=this,a=t._self._c;return a("span",{staticClass:"weight"},[a("strong",[t._v("TOTAL: ")])])}],E={name:"RankingData",props:["data"]},T=E,O=(0,d.A)(T,L,S,!1,null,"19173860",null),G=O.exports,D={name:"Ranking",components:{RankingData:G},computed:{...(0,l.aH)(["rankingLoading","rankingHeader","rankingData"])}},H=D,I=(0,d.A)(H,x,N,!1,null,"62085ca7",null),R=I.exports;s.Ay.use(w.Ay);let M=w.Ay.prototype.push,W=w.Ay.prototype.replace;w.Ay.prototype.push=function(t,a,e){a&&e?M.call(this,t,a,e):M.call(this,t,()=>{},()=>{})},w.Ay.prototype.replace=function(t,a,e){a&&e?W.call(this,t,a,e):W.call(this,t,()=>{},()=>{})};const $=new w.Ay({routes:[{path:"/",redirect:"/home"},{name:"home",path:"/home",component:C},{name:"ranking",path:"/ranking/:ranking_file_name",component:R}]});var j=$,X=e(4373);s.Ay.use(l.Ay);const K={indexLoading:!1,indexWeeklyList:[],indexMonthlyList:[],indexAnnualList:[],alertText:"",rankingLoading:!1,rankingHeader:{},rankingData:[]},U={async search_index(t){t.commit("CHANGE_INDEX_LOADING"),await X.A.get("https://lemonade542.github.io/vocal-ranking/ranking/weekly/index.json").then(a=>{t.commit("GET_WEEKLY_INDEX",a.data.index.reverse())},a=>{t.commit("SHOW_ALERT",a.message)}),await X.A.get("https://lemonade542.github.io/vocal-ranking/ranking/monthly/index.json").then(a=>{t.commit("GET_MONTHLY_INDEX",a.data.index.reverse())},a=>{t.commit("SHOW_ALERT",a.message)}),await X.A.get("https://lemonade542.github.io/vocal-ranking/ranking/annual/index.json").then(a=>{t.commit("GET_ANNUAL_INDEX",a.data.index.reverse())},a=>{t.commit("SHOW_ALERT",a.message)}),await t.commit("CHANGE_INDEX_LOADING")},get_ranking(t,a){t.commit("CLEAR_RANKING_DATA"),t.commit("CHANGE_RANKING_LOADING");const e=a.split("-")[0],s=`https://lemonade542.github.io/vocal-ranking/ranking/${e}/${a}.json`;X.A.get(s).then(a=>{t.commit("GET_RANKING_DATA",a.data),t.commit("CHANGE_RANKING_LOADING")},a=>{t.commit("SHOW_ALERT",a.message),t.commit("CHANGE_RANKING_LOADING")})}},P={CHANGE_INDEX_LOADING(t){t.indexLoading=!t.indexLoading},SHOW_ALERT(t,a){t.alertText=a},GET_WEEKLY_INDEX(t,a){t.indexWeeklyList=a},GET_MONTHLY_INDEX(t,a){t.indexMonthlyList=a},GET_ANNUAL_INDEX(t,a){t.indexAnnualList=a},CHANGE_RANKING_LOADING(t){t.rankingLoading=!t.rankingLoading},CLEAR_RANKING_DATA(t){t.rankingHeader={},t.rankingData=[]},GET_RANKING_DATA(t,a){t.rankingHeader=a.header,t.rankingData=a.data}},z=new l.Ay.Store({state:K,actions:U,mutations:P});var F=z;s.Ay.config.productionTip=!1,s.Ay.use(w.Ay),new s.Ay({router:j,store:F,render:t=>t(p)}).$mount("#app")}},a={};function e(s){var n=a[s];if(void 0!==n)return n.exports;var i=a[s]={exports:{}};return t[s].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(a,s,n,i){if(!s){var r=1/0;for(_=0;_<t.length;_++){s=t[_][0],n=t[_][1],i=t[_][2];for(var o=!0,l=0;l<s.length;l++)(!1&i||r>=i)&&Object.keys(e.O).every(function(t){return e.O[t](s[l])})?s.splice(l--,1):(o=!1,i<r&&(r=i));if(o){t.splice(_--,1);var c=n();void 0!==c&&(a=c)}}return a}i=i||0;for(var _=t.length;_>0&&t[_-1][2]>i;_--)t[_]=t[_-1];t[_]=[s,n,i]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={57:0};e.O.j=function(a){return 0===t[a]};var a=function(a,s){var n,i,r=s[0],o=s[1],l=s[2],c=0;if(r.some(function(a){return 0!==t[a]})){for(n in o)e.o(o,n)&&(e.m[n]=o[n]);if(l)var _=l(e)}for(a&&a(s);c<r.length;c++)i=r[c],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(_)},s=self["webpackChunkvocal_meta"]=self["webpackChunkvocal_meta"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=e.O(void 0,[504],function(){return e(8725)});s=e.O(s)})();
//# sourceMappingURL=index.2b84585e.js.map